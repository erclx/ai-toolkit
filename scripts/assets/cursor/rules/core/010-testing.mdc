---
description: enforce universal testing standards and best practices
alwaysApply: true
priority: 10
---

# TESTING STANDARDS

## Test Structure

- Structure tests using the Arrange, Act, Assert (AAA) pattern.
- Each test should verify a single behavior.
- Do not use conditional logic or loops within test bodies.

## Test Focus

- Test user-visible behavior rather than implementation details.
- Do not test private functions or internal state directly.
- Cover critical paths and edge cases; do not target arbitrary coverage percentages.

## Organization and Isolation

- Group related tests using the framework's nesting mechanism; keep nesting shallow (max 2 levels).
- Ensure tests are independent; each test should run in isolation without side effects.
- Clean up side effects and restore state after each test.

## Test Data and Async

- Use factory functions or builders for test data; avoid inline object literals.
- Always await async operations; avoid fire-and-forget promises in tests.

## Selection and Verification

- Select elements by accessibility attributes first.
- Do not use snapshot testing for verification.
