---
description: enforce opinionated react architecture and component patterns
globs: '**/*.tsx,**/*.ts'
alwaysApply: false
priority: 200
---

# REACT ARCHITECTURE STANDARDS

## Export Conventions

- Use named exports exclusively for components and hooks.
- Do not use default exports.

## Project Structure

- Place domain logic in `src/features/` and restrict `src/components/` to shared UI.
- Do not place feature-specific components in the global components folder.
- Import environment variables only from the validated configuration module.

## Component Patterns

- Use function declarations for components, not arrow functions.
- Define TypeScript interfaces for props immediately above the component.
- Use `<>` shorthand for fragments unless key prop is required.
- Use stable, unique keys for list items; never use array index.
- Extract components when JSX exceeds a single responsibility; prefer composition of small components.

## State and Effects

- Encapsulate data fetching and complex effects in custom hooks.
- Do not use `useEffect` for derived state; use `useMemo`.

## Memoization

- Memoize components receiving non-primitive props with `React.memo`.
- Use `useCallback` for handler props passed to children.

## Composition and Props

- Avoid prop drilling beyond 2 levels; use context or composition.
